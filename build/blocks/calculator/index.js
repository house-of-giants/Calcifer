!function(){"use strict";var t,e={239:function(){function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function e(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}function r(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o,l,i=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(i.push(n.value),i.length!==e);c=!0);}catch(t){u=!0,a=t}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return i}}(t,r)||e(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function a(t,e,r){return(e=function(t){var e=function(t){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==n(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"anything-calculator/calculator","version":"1.0.0","title":"Calculator","category":"widgets","icon":"calculator","description":"Add a formula calculator to your page.","example":{"attributes":{"formulaId":0,"title":"Calculator","description":"Enter values below to calculate the result.","theme":"light"}},"supports":{"html":false,"align":["wide","full"]},"attributes":{"formulaId":{"type":"number","default":0},"title":{"type":"string","default":"Calculator"},"description":{"type":"string","default":""},"theme":{"type":"string","default":"light"}},"textdomain":"anything-calculator","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}'),l=window.wp.i18n,i=window.wp.blocks,c=window.wp.blockEditor,u=window.wp.components,s=window.wp.element,f=window.ReactJSXRuntime;function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}(0,i.registerBlockType)(o.name,d(d({},o),{},{edit:function(n){var a=n.attributes,o=n.setAttributes,i=(0,c.useBlockProps)(),h=a.formulaId,p=a.title,y=a.description,m=a.theme,g=r((0,s.useState)([]),2),b=g[0],v=g[1],w=r((0,s.useState)(!0),2),j=w[0],_=w[1];(0,s.useEffect)((function(){var t,e;window.anythingCalculatorData&&window.anythingCalculatorData.formulas?(v(window.anythingCalculatorData.formulas),_(!1)):fetch("".concat((null===(t=window.anythingCalculatorData)||void 0===t?void 0:t.restUrl)||"/wp-json/","anything-calculator/v1/formulas"),{headers:{"X-WP-Nonce":(null===(e=window.anythingCalculatorData)||void 0===e?void 0:e.nonce)||"","Content-Type":"application/json"},credentials:"same-origin"}).then((function(t){return t.ok?t.json():(console.error("REST API Error:",t.status,t.statusText),t.json().then((function(t){throw console.error("Error details:",t),t})))})).then((function(t){v(t),_(!1)})).catch((function(t){console.error("Error fetching formulas:",t),_(!1)}))}),[]);var x,O=[{label:(0,l.__)("-- Select Formula --","anything-calculator"),value:0}].concat(function(e){if(Array.isArray(e))return t(e)}(x=Array.isArray(b)?b.map((function(t){return{label:t.title,value:t.id}})):[])||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(x)||e(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),C=[{label:(0,l.__)("Light","anything-calculator"),value:"light"},{label:(0,l.__)("Dark","anything-calculator"),value:"dark"}];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.InspectorControls,{children:(0,f.jsxs)(u.PanelBody,{title:(0,l.__)("Calculator Settings","anything-calculator"),initialOpen:!0,children:[(0,f.jsx)(u.SelectControl,{label:(0,l.__)("Formula","anything-calculator"),value:h,options:O,onChange:function(t){return o({formulaId:parseInt(t,10)})},help:(0,l.__)("Select the formula to use for calculation.","anything-calculator")}),(0,f.jsx)(u.TextControl,{label:(0,l.__)("Title","anything-calculator"),value:p,onChange:function(t){return o({title:t})},help:(0,l.__)("Title displayed above the calculator.","anything-calculator")}),(0,f.jsx)(u.TextareaControl,{label:(0,l.__)("Description","anything-calculator"),value:y,onChange:function(t){return o({description:t})},help:(0,l.__)("Description displayed below the title.","anything-calculator")}),(0,f.jsx)(u.RadioControl,{label:(0,l.__)("Theme","anything-calculator"),selected:m,options:C,onChange:function(t){return o({theme:t})},help:(0,l.__)("Choose the visual style for the calculator.","anything-calculator")})]})}),(0,f.jsx)("div",d(d({},i),{},{children:j?(0,f.jsxs)(u.Placeholder,{icon:"calculator",label:(0,l.__)("Calculator","anything-calculator"),children:[(0,f.jsx)(u.Spinner,{}),(0,l.__)("Loading formulas...","anything-calculator")]}):h>0?(0,f.jsx)("div",{className:"anything-calculator-preview theme-".concat(m),children:(0,f.jsxs)(u.Card,{children:[(0,f.jsxs)(u.CardHeader,{children:[(0,f.jsx)("h3",{children:p||(0,l.__)("Calculator","anything-calculator")}),y&&(0,f.jsx)("p",{children:y})]}),(0,f.jsx)(u.CardBody,{children:Array.isArray(b)&&(0,f.jsxs)("div",{className:"anything-calculator-editor-preview",children:[(0,f.jsx)("p",{className:"preview-note",children:(0,l.__)("Calculator Preview - The actual calculator will appear here on the frontend.","anything-calculator")}),(0,f.jsx)("hr",{}),b.map((function(t){var e,r;return t.id===h?(0,f.jsxs)("div",{className:"selected-formula",children:[(0,f.jsxs)("h4",{children:[(0,l.__)("Selected Formula:","anything-calculator")," ",t.title]}),(0,f.jsxs)("p",{children:[(0,l.__)("Inputs:","anything-calculator")," ",(null===(e=t.inputs)||void 0===e?void 0:e.length)||0]}),(0,f.jsxs)("p",{children:[(0,l.__)("Output:","anything-calculator")," ",null===(r=t.output)||void 0===r?void 0:r.label]})]},t.id):null}))]})})]})}):(0,f.jsx)(u.Placeholder,{icon:"calculator",label:(0,l.__)("Calculator","anything-calculator"),instructions:(0,l.__)("Select a formula in the block settings sidebar.","anything-calculator"),children:(0,f.jsx)(u.SelectControl,{value:h,options:O,onChange:function(t){return o({formulaId:parseInt(t,10)})}})})}))]})},save:function(){return null}}))}},r={};function n(t){var a=r[t];if(void 0!==a)return a.exports;var o=r[t]={exports:{}};return e[t](o,o.exports,n),o.exports}n.m=e,t=[],n.O=function(e,r,a,o){if(!r){var l=1/0;for(s=0;s<t.length;s++){r=t[s][0],a=t[s][1],o=t[s][2];for(var i=!0,c=0;c<r.length;c++)(!1&o||l>=o)&&Object.keys(n.O).every((function(t){return n.O[t](r[c])}))?r.splice(c--,1):(i=!1,o<l&&(l=o));if(i){t.splice(s--,1);var u=a();void 0!==u&&(e=u)}}return e}o=o||0;for(var s=t.length;s>0&&t[s-1][2]>o;s--)t[s]=t[s-1];t[s]=[r,a,o]},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={477:0,350:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,o,l=r[0],i=r[1],c=r[2],u=0;if(l.some((function(e){return 0!==t[e]}))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(c)var s=c(n)}for(e&&e(r);u<l.length;u++)o=l[u],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(s)},r=self.webpackChunkanything_calculator=self.webpackChunkanything_calculator||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var a=n.O(void 0,[350],(function(){return n(239)}));a=n.O(a)}();